@model IEnumerable<TravelAgencyWebApp.ViewModels.Booking.BookingViewModel>

@{
	ViewData["Title"] = "Управление на Резервации";
}
<head>
	<title>Дени Травел</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="description" content="Travelix Project">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="~/Content/styles/bootstrap4/bootstrap.min.css" asp-append-version="true" />
	<link href="~/Content/plugins/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" asp-append-version="true" />
	<link rel="stylesheet" type="text/css" href="~/Content/plugins/OwlCarousel2-2.2.1/owl.carousel.css" asp-append-version="true" />
	<link rel="stylesheet" type="text/css" href="~/Content/plugins/OwlCarousel2-2.2.1/owl.theme.default.css" asp-append-version="true" />
	<link rel="stylesheet" type="text/css" href="~/Content/styles/main_styles.css" asp-append-version="true" />
	<link rel="stylesheet" type="text/css" href="~/Content/styles/responsive.css" asp-append-version="true" />
</head>

<div class="container mt-5">
	<h2 class="text-center mb-4">Управление на Резервации</h2>

	<p class="text-right">
		<a asp-controller="Booking" asp-action="Create" class="btn btn-primary">
			<i class="fas fa-plus"></i> Създаване на Нова Резервация
		</a>
	</p>

	<div class="table-responsive">
		<!-- Make the table responsive -->
		<table class="table table-striped">
			<thead>
				<tr>
					<th>Дата на Настаняване</th>
					<th>Дата на Освобождаване</th>
					<th>Оферта</th>
					<th>Действия</th>
				</tr>
			</thead>
			<tbody>
				@if (Model != null && Model.Any())
				{
					foreach (var booking in Model)
					{
						<tr>
							<td>@booking.CheckInDate.ToShortDateString()</td>
							<td>@booking.CheckOutDate.ToShortDateString()</td>
							<td>@booking.OfferTitle</td>
							<td>
								<a asp-controller="Booking" asp-action="Details" asp-route-id="@booking.Id" class="btn btn-info" title="Детайли">
									<i class="fas fa-eye"></i> Детайли
								</a>
								<a asp-controller="Booking" asp-action="Edit" asp-route-id="@booking.Id" class="btn btn-warning" title="Редактиране">
									<i class="fas fa-edit"></i> Редактиране
								</a>
								<a asp-controller="Booking" asp-action="Delete" asp-route-id="@booking.Id" class="btn btn-danger" title="Изтриване" onclick="return confirm('Сигурни ли сте, че искате да изтриете тази резервация?');">
									<i class="fas fa-trash"></i> Изтриване
								</a>
							</td>
						</tr>
					}
				}
				else
				{
					<tr>
						<td colspan="6" class="text-center">Няма намерени резервации.</td>
					</tr>
				}
			</tbody>
		</table>
	</div>
</div>

@section Scripts {
	<script>
		document.querySelectorAll("table.table-striped tbody tr").forEach(row => {
			row.addEventListener('mouseenter', function () {
				this.style.backgroundColor = '#f0f8ff';  
			});
			row.addEventListener('mouseleave', function () {
				this.style.backgroundColor = '';  
			});
		});
	</script>
}